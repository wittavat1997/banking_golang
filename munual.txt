this course doesn't has MySQL  but useage postgresql only

Wittavat@MacBook-Air-khxng-San ~ %  docker run --name postgres -p 5433:5432 -e POSTGRES_PASSWORD=secret -e POSTGRES_USER=root -d postgres:14-alpine
Wittavat@MacBook-Air-khxng-San ~ % docker ps
Wittavat@MacBook-Air-khxng-San ~ % history | grep "docker run"
Wittavat@MacBook-Air-khxng-San ~ % brew install golang-migrate
Wittavat@MacBook-Air-khxng-San banking_merchant % docker exec -it postgres /bin/sh
/ # pwd
/ # ls -l
/ # createdb --username=root --owner=root simple_bank
/ # psql simple_bank
simple_bank=# \q
/ # dropdb simple_bank
/ # exit
Wittavat@MacBook-Air-khxng-San banking_merchant % docker exec -it postgres  createdb --username=root --owner=root simple_bank
Wittavat@MacBook-Air-khxng-San banking_merchant % docker exec -it postgres psql -U root simple_bank
simple_bank=# \q%
Wittavat@MacBook-Air-khxng-San banking_merchant % docker stop  postgres
postgres
Wittavat@MacBook-Air-khxng-San banking_merchant % docker start  postgres
postgres

Wittavat@MacBook-Air-khxng-San banking_merchant % migrate -path db/migration -database "postgresql://root:secret@localhost:5433/simple_bank?sslmode=disable" -verbose up


Wittavat@MacBook-Air-khxng-San ~ % brew install kyleconroy/sqlc/sqlc
Wittavat@MacBook-Air-khxng-San banking_merchant % make createdb
Wittavat@MacBook-Air-khxng-San banking_merchant % make sqlc
sqlc generate




Wittavat@MacBook-Air-khxng-San banking_merchant % go mod init github.com/wittavat1997/banking_merchant
go: creating new go.mod: module github.com/wittavat1997/simplebank
go: to add module requirements and sums:
	go mod tidy
Wittavat@MacBook-Air-khxng-San banking_merchant % go mod tidy



Wittavat@MacBook-Air-khxng-San banking_merchant % make createdb
#docker exec -it postgres createdb --username=root --owner=root simple_bank
docker exec -it mysql8 mysql -uroot -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 10
Server version: 8.2.0 MySQL Community Server - GPL

Copyright (c) 2000, 2023, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> set session transaction isolation level read uncommitted;
Query OK, 0 rows affected (0.00 sec)

mysql> select @@transaction_isolation;
+-------------------------+
| @@transaction_isolation |
+-------------------------+
| READ-UNCOMMITTED        |
+-------------------------+
1 row in set (0.00 sec)

mysql> begin
    -> ;
Query OK, 0 rows affected (0.00 sec)

mysql> select * from accounts;
ERROR 1046 (3D000): No database selected
mysql> exit
Bye
Wittavat@MacBook-Air-khxng-San banking_merchant %


mysql> select @@transaction_isolation;
+-------------------------+
| @@transaction_isolation |
+-------------------------+
| REPEATABLE-READ         |
+-------------------------+
1 row in set (0.00 sec)

mysql> select @@global.transaction_isolation;
+--------------------------------+
| @@global.transaction_isolation |
+--------------------------------+
| REPEATABLE-READ                |
+--------------------------------+
1 row in set (0.00 sec)

mysql> set session transaction isolation level read uncommitted;
Query OK, 0 rows affected (0.00 sec)

mysql> select @@transaction_isolation;
+-------------------------+
| @@transaction_isolation |
+-------------------------+
| READ-UNCOMMITTED        |
+-------------------------+
1 row in set (0.00 sec)

mysql> start transaction
    ->
    ->
    ->
    -> ;
Query OK, 0 rows affected (0.00 sec)

mysql>


git init
git status
git add .
git commit -m "structre domain persistence"
git remote set-url origin  https://github.com/Wittavat2000/bookstore_oauth-go.git   <= Change Bitbucket to GitHub
git remote add origin https://wittavat-admin@bitbucket.org/wittavat/bookstore_users-api.git
git push origin main --force






